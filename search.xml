<?xml version="1.0" encoding="utf-8"?>
<search>
  <entry>
    <title></title>
    <url>%2FLectures%2FAsset-Allocation-and-Portfolio-Management%2FAAPMhw1%2F</url>
    <content type="text"><![CDATA[Problem 1 .task-list-item { list-style-type: none; } .task-list-item-checkbox { margin-left: -20px; vertical-align: middle; } body { font-family: -apple-system, BlinkMacSystemFont, 'Segoe WPC', 'Segoe UI', 'HelveticaNeue-Light', 'Ubuntu', 'Droid Sans', sans-serif; font-size: 14px; line-height: 1.6; } title: Asset Allocation and Portfolio Management HW1 date: 2019-02-04 18:12:30 categories: Lectures Asset Allocation and Portfolio Management tags: Lectures Asset Allocation Portfolio Management Problem 1 Sufficiency Necessity Problem 2 Problem 3 (a)⇒(b)(a)\Rightarrow (b)(a)⇒(b) (c)⇒(a)(c) \Rightarrow (a)(c)⇒(a) (b)(b)(b) and (c)(c)(c) are equivalent (c)⇒(b)(c) \Rightarrow (b)(c)⇒(b) (b)⇒(c)(b) \Rightarrow (c)(b)⇒(c) Problem 4 Same decisions Same certainty-equivalents Problem 1 Sufficiency If an agent is risk-averse, then E[u(ω+z~)]≤u(ω)∀ω,∀z~ with E[z~]=0⇒E[u(ω+z~)]≤u(ω+E[z~])⇒E[u(ω+z~)]≤u(E[ω+z~])Let X=ω+z~,⇒E[u(X)]≤u(E[X])⇒u() is concave.\begin{aligned} &amp;\mathbb{E}[u(\omega + \tilde{z})] \leq u(\omega) \quad \forall\omega,\forall\tilde{z} \text{ with } \mathbb{E}[\tilde{z}] = 0 \\ \Rightarrow &amp;\mathbb{E}\left[ u(\omega + \tilde{z}) \right] \leq u(\omega + \mathbb{E}[\tilde{z}]) \\ \Rightarrow &amp;\mathbb{E}\left[ u(\omega + \tilde{z}) \right] \leq u( \mathbb{E}[\omega +\tilde{z}]) \\ \text{Let $X = \omega +\tilde{z}$,} \\ \Rightarrow &amp;\mathbb{E}\left[ u(X) \right] \leq u( \mathbb{E}[X]) \\ \Rightarrow &amp;u() \text{ is concave.} \end{aligned} ⇒⇒Let X=ω+z~,⇒⇒​E[u(ω+z~)]≤u(ω)∀ω,∀z~ with E[z~]=0E[u(ω+z~)]≤u(ω+E[z~])E[u(ω+z~)]≤u(E[ω+z~])E[u(X)]≤u(E[X])u() is concave.​ Necessity If u()u()u() is concave, then E[u(X)]≤u(E[X])Let X=ω+z~, where E[z~]=0, ω is non-random⇒E[u(ω+z~)]≤u(E[ω+z~])⇒E[u(ω+z~)]≤u(ω+E[z~])⇒E[u(ω+z~)]≤u(ω)∀ω,∀z~ with E[z~]=0⇒This agent is risk-averse.\begin{aligned} &amp;\mathbb{E}\left[ u(X) \right] \leq u( \mathbb{E}[X]) \\ \text{Let $X = \omega +\tilde{z}$,} &amp; \text{ where $\mathbb{E}[\tilde{z}] = 0$, $\omega$ is non-random} \\ \Rightarrow &amp;\mathbb{E}\left[ u(\omega + \tilde{z}) \right] \leq u( \mathbb{E}[\omega +\tilde{z}]) \\ \Rightarrow &amp;\mathbb{E}\left[ u(\omega + \tilde{z}) \right] \leq u(\omega + \mathbb{E}[\tilde{z}]) \\ \Rightarrow &amp;\mathbb{E}[u(\omega + \tilde{z})] \leq u(\omega) \quad \forall\omega,\forall\tilde{z} \text{ with } \mathbb{E}[\tilde{z}] = 0 \\ \Rightarrow &amp;\text{This agent is risk-averse.} \end{aligned} Let X=ω+z~,⇒⇒⇒⇒​E[u(X)]≤u(E[X]) where E[z~]=0, ω is non-randomE[u(ω+z~)]≤u(E[ω+z~])E[u(ω+z~)]≤u(ω+E[z~])E[u(ω+z~)]≤u(ω)∀ω,∀z~ with E[z~]=0This agent is risk-averse.​ Problem 2 u(w)=−exp(−κw)/κ⇒u′(w)=exp(−κw)⇒u′′(w)=−κexp(−κw)\begin{aligned} &amp;u(w) = − exp(−κw)/κ \\ \Rightarrow &amp; u^\prime(w) = exp(−κw)\\ \Rightarrow &amp; u^{\prime\prime}(w) = -κexp(−κw)\\ \end{aligned} ⇒⇒​u(w)=−exp(−κw)/κu′(w)=exp(−κw)u′′(w)=−κexp(−κw)​ So (2.1)A(w)=−u′′(w)u′(w)=κA(w) = -\frac{u^{\prime\prime}(w)}{u^\prime(w)} = \kappa \tag{2.1} A(w)=−u′(w)u′′(w)​=κ(2.1) And we know E[u(w+z~)]=E[u(w~)]w~ is normally distributed with mean μ and variance Σ2⇒E[u(w~)]=−1κE[exp(−κw~)]⇒u(w~)=−1κexp(−κμ+κ2σ22)\begin{aligned} &amp;\mathbb{E}\left[ u(w+\tilde{z}) \right] =\mathbb{E}\left[ u(\tilde{w}) \right] \quad \text{$\tilde{w}$ is normally distributed with mean $\mu$ and variance $\Sigma^2$} \\ \Rightarrow &amp;\mathbb{E}\left[ u(\tilde{w}) \right] = -\frac{1}{\kappa}\mathbb{E}\left[ exp(−κ\tilde{w}) \right] \\ \Rightarrow &amp; u(\tilde{w})= -\frac{1}{\kappa}exp(−κ\mu + \frac{\kappa^2\sigma^2}{2})\\ \end{aligned} ⇒⇒​E[u(w+z~)]=E[u(w~)]w~ is normally distributed with mean μ and variance Σ2E[u(w~)]=−κ1​E[exp(−κw~)]u(w~)=−κ1​exp(−κμ+2κ2σ2​)​ So (2.2)u(w~)=−1κexp(−κ(μ−κσ22))u(\tilde{w})= -\frac{1}{\kappa}exp(−κ(\mu - \frac{\kappa\sigma^2}{2})) \tag{2.2}u(w~)=−κ1​exp(−κ(μ−2κσ2​))(2.2) And we know (2.3)u(w−Π)=−exp(−κ(w−Π))/κu(w-\Pi) = − exp(−κ(w-\Pi))/κ \tag{2.3} u(w−Π)=−exp(−κ(w−Π))/κ(2.3) Combined (2.2)(2.2)(2.2) and (2.3)(2.3)(2.3) we can get (2.4)Π=κσ22\Pi = \frac{\kappa\sigma^2}{2} \tag{2.4} Π=2κσ2​(2.4) Plug (2.1)(2.1)(2.1) into (2.4)(2.4)(2.4) we can get Π=σ22A(w)\Pi = \frac{\sigma^2}{2}A(w) Π=2σ2​A(w) So the Arrow-Pratt approximation is exact. Problem 3 (a)⇒(b)(a)\Rightarrow (b)(a)⇒(b) It is equivalent to prove that not (b) implies not (a). not (b) is ∃w, s.t. Av(w)&lt;Au(w)\exists w, \text{ s.t. }A_v(w) &lt; A_u(w) ∃w, s.t. Av​(w)&lt;Au​(w) Let the point s.t.Av(w)&lt;Au(w) be x. i.e. Av(x)&lt;Au(x)\text{Let the point s.t.} A_v(w) &lt; A_u(w) \text{ be }x \text{. i.e. } A_v(x) &lt; A_u(x)Let the point s.t.Av​(w)&lt;Au​(w) be x. i.e. Av​(x)&lt;Au​(x). Let v(x)=t⇒x=v−1(t)\text{Let } v(x) = t \quad \Rightarrow x = v^{-1}(t)Let v(x)=t⇒x=v−1(t) First, We want to show that u(v−1(∙)) is strictly concave at tu(v^{-1}(\bullet)) \text{ is strictly concave at } tu(v−1(∙)) is strictly concave at t Av(x)&lt;Au(x)⇒Av(x)−Au(x)&lt;0⇒−v′′(x)v′(x)+u′′(x)u′(x)&lt;0⇒ddwlogu′(x)v′(x)&lt;0⇒logu′(x)v′(x) is decreasing⇒u′(x)v′(x) is decreasing⇒u′(v−1(t))v′(v−1(t))=ddtu(v−1(t)) is decreasingSince ddtu(v−1(t))=u′(v−1(t))[d(v−1(t))dt]=u′(v−1(t))[1v′(v−1(t))]=u′(v−1(t))v′(v−1(t))⇒d2dt2u(v−1(t))&lt;0⇒u(v−1(∙)) is strictly concave at t\begin{aligned} &amp;A_v(x) &lt; A_u(x) \\ \Rightarrow &amp;A_v(x) - A_u(x) &lt; 0\\ \Rightarrow &amp;-\frac{v^{\prime\prime}(x)}{v^\prime(x)} + \frac{u^{\prime\prime}(x)}{u^\prime(x)} &lt; 0 \\ \Rightarrow &amp;\frac{d}{dw}log\frac{u^\prime(x)}{v^\prime(x)} &lt; 0 \\ \Rightarrow &amp;log\frac{u^\prime(x)}{v^\prime(x)} \text{ is decreasing} \\ \Rightarrow &amp;\frac{u^\prime(x)}{v^\prime(x)} \text{ is decreasing} \\ \Rightarrow &amp;\frac{u^\prime(v^{-1}(t))}{v^\prime(v^{-1}(t))} = \frac{d}{dt}u(v^{-1}(t)) \text{ is decreasing} \\ &amp;\text{Since } \frac{d}{dt}u(v^{-1}(t)) =u^\prime(v^{-1}(t))[\frac{d(v^{-1}(t))}{dt}] =u^\prime(v^{-1}(t))[\frac{1}{v^\prime(v^{-1}(t))}] = \frac{u^\prime(v^{-1}(t))}{v^\prime(v^{-1}(t))} \\ \Rightarrow &amp;\frac{d^2}{dt^2}u(v^{-1}(t)) &lt; 0 \\ \Rightarrow &amp;u(v^{-1}(\bullet)) \text{ is strictly concave at } t \end{aligned} ⇒⇒⇒⇒⇒⇒⇒⇒​Av​(x)&lt;Au​(x)Av​(x)−Au​(x)&lt;0−v′(x)v′′(x)​+u′(x)u′′(x)​&lt;0dwd​logv′(x)u′(x)​&lt;0logv′(x)u′(x)​ is decreasingv′(x)u′(x)​ is decreasingv′(v−1(t))u′(v−1(t))​=dtd​u(v−1(t)) is decreasingSince dtd​u(v−1(t))=u′(v−1(t))[dtd(v−1(t))​]=u′(v−1(t))[v′(v−1(t))1​]=v′(v−1(t))u′(v−1(t))​dt2d2​u(v−1(t))&lt;0u(v−1(∙)) is strictly concave at t​ According to Jensen's inequality (3.1)E[u(v−1(t))]&lt;u(v−1(E[t]))\mathbb{E}\left[ u(v^{-1}(t)) \right] &lt; u(v^{-1}(\mathbb{E}\left[ t \right]))\tag{3.1}E[u(v−1(t))]&lt;u(v−1(E[t]))(3.1) And we know E[u(w+z~)]=u(w−Πu)\mathbb{E}\left[ u(w+\tilde{z}) \right] = u(w - \Pi_u) E[u(w+z~)]=u(w−Πu​) E[v(w+z~)]=v(w−Πv)\mathbb{E}\left[ v(w+\tilde{z}) \right] = v(w - \Pi_v) E[v(w+z~)]=v(w−Πv​) So Πu=w−u−1(E[u(w+z~)])\Pi_u = w-u^{-1}(\mathbb{E}\left[ u(w+\tilde{z}) \right]) Πu​=w−u−1(E[u(w+z~)]) Πv=w−v−1(E[v(w+z~)])\Pi_v = w-v^{-1}(\mathbb{E}\left[ v(w+\tilde{z}) \right]) Πv​=w−v−1(E[v(w+z~)]) Πv−Πu=−v−1(E[v(w+z~)])+u−1(E[u(w+z~)])=−v−1(E[v(w+z~)])+u−1(E[u(w+z~)])\begin{aligned} \Pi_v - \Pi_u &amp;= -v^{-1}(\mathbb{E}\left[ v(w+\tilde{z}) \right]) + u^{-1}(\mathbb{E}\left[ u(w+\tilde{z}) \right]) \\ &amp;= -v^{-1}(\mathbb{E}\left[ v(w+\tilde{z}) \right]) + u^{-1}(\mathbb{E}\left[ u(w+\tilde{z}) \right]) \end{aligned} Πv​−Πu​​=−v−1(E[v(w+z~)])+u−1(E[u(w+z~)])=−v−1(E[v(w+z~)])+u−1(E[u(w+z~)])​ Let v(w+z~)=tv(w+\tilde{z}) = tv(w+z~)=t, i.e. the risk is z~=v−1(t)−w\tilde{z} = v^{-1}(t) - wz~=v−1(t)−w. And we know E[z~]=v−1(t)−w=0\mathbb{E}\left[ \tilde{z} \right] = v^{-1}(t) - w = 0E[z~]=v−1(t)−w=0, so w=v−1(t)w = v^{-1}(t) w=v−1(t) z~=0\tilde{z} = 0 z~=0 Then (3.2)Πv−Πu=−v−1(E[t])+u−1(E[u(v−1(t))])\Pi_v - \Pi_u = -v^{-1}(\mathbb{E}\left[ t \right]) + u^{-1}(\mathbb{E}\left[ u(v^{-1}(t)) \right]) \tag{3.2} Πv​−Πu​=−v−1(E[t])+u−1(E[u(v−1(t))])(3.2) Substituting (3.1) into (3.2), we obtain Πv−Πu&lt;−v−1(E[t])+u−1(u(v−1(E[t])))⇒Πv−Πu&lt;−v−1(E[t])+v−1(E[t])⇒Πv−Πu&lt;0⇒Πv&lt;Πu \begin{aligned} &amp;\Pi_v - \Pi_u &lt; -v^{-1}(\mathbb{E}\left[ t \right]) + u^{-1}(u(v^{-1}(\mathbb{E}\left[ t \right]))) \\ \Rightarrow &amp;\Pi_v - \Pi_u &lt; -v^{-1}(\mathbb{E}\left[ t \right]) + v^{-1}(\mathbb{E}\left[ t \right])\\ \Rightarrow &amp;\Pi_v - \Pi_u &lt; 0 \\ \Rightarrow &amp;\Pi_v &lt; \Pi_u \end{aligned}⇒⇒⇒​Πv​−Πu​&lt;−v−1(E[t])+u−1(u(v−1(E[t])))Πv​−Πu​&lt;−v−1(E[t])+v−1(E[t])Πv​−Πu​&lt;0Πv​&lt;Πu​​ So (3.3)Πv&lt;Πuwhen w=v−1(t),z~=0\Pi_v &lt; \Pi_u \quad \text{when } w = v^{-1}(t), \tilde{z} = 0 \tag{3.3} Πv​&lt;Πu​when w=v−1(t),z~=0(3.3) (a) implies that Πv≥Πu\Pi_v \geq \Pi_uΠv​≥Πu​ for any risk. so (3.3) implies not (a) So we have proved that not(b)⇒not(a)\text{not}(b) \Rightarrow \text{not}(a) not(b)⇒not(a) which is equivalent to (a)⇒(b)(a)\Rightarrow (b) (a)⇒(b) (c)⇒(a)(c) \Rightarrow (a)(c)⇒(a) Given (c)(c)(c), we have v(w−Πv)=E[v(w+z~)]=E[ϕ(u(w+z~))]v(w-\Pi_v) = \mathbb{E}\left[ v(w+\tilde{z}) \right] = \mathbb{E}\left[ \phi(u(w+\tilde{z})) \right] v(w−Πv​)=E[v(w+z~)]=E[ϕ(u(w+z~))] ϕ is concave⇒E[ϕ(u(w+z~))]≤ϕ(E[u(w+z~)])=ϕ(u(w−Πu))=v(w−Πu)\begin{aligned} \phi \text{ is concave} \Rightarrow \mathbb{E}\left[ \phi(u(w+\tilde{z})) \right] &amp;\leq \phi(\mathbb{E}\left[ u(w+\tilde{z}) \right]) \\ &amp;=\phi(u(w-\Pi_u)) \\ &amp;=v(w-\Pi_u) \end{aligned} ϕ is concave⇒E[ϕ(u(w+z~))]​≤ϕ(E[u(w+z~)])=ϕ(u(w−Πu​))=v(w−Πu​)​ ⇒v(w−Πv)≤v(w−Πu)\Rightarrow v(w-\Pi_v) \leq v(w-\Pi_u) ⇒v(w−Πv​)≤v(w−Πu​) And vvv is utility function, so vvv is increasing, which implies Πv≥Πu\Pi_v \geq \Pi_uΠv​≥Πu​ for any risk. So agent vvv is more risk-averse than agent uuu. (b)(b)(b) and (c)(c)(c) are equivalent uuu is increasing, i.e. u′≥0u^\prime \geq 0u′≥0. v(w)=ϕ(u(w))⇒v′(w)=ϕ′(u(w))u′(w)⇒v′′(w)=ϕ′′(u(w))(u′(w))2+ϕ′(u(w))u′′(w)⇒Av(w)=−ϕ′′(u(w))(u′(w))2+ϕ′(u(w))u′′(w)ϕ′(u(w))u′(w)=Au(w)−ϕ′′(u(w))u′(w)ϕ′(u(w))\begin{aligned} v(w) &amp;= \phi(u(w)) \\ \Rightarrow v^{\prime}(w) &amp;= \phi^{\prime}(u(w))u^\prime(w) \\ \Rightarrow v^{\prime\prime}(w) &amp;= \phi^{\prime\prime}(u(w))(u^\prime(w))^2 +\phi^{\prime}(u(w))u^{\prime\prime}(w) \\ \Rightarrow A_v(w) &amp;= -\frac {\phi^{\prime\prime}(u(w))(u^\prime(w))^2 +\phi^{\prime}(u(w))u^{\prime\prime}(w)} {\phi^{\prime}(u(w))u^\prime(w)} \\ &amp;=A_u(w) - \frac{\phi^{\prime\prime}(u(w))u^\prime(w)} {\phi^{\prime}(u(w))} \end{aligned} v(w)⇒v′(w)⇒v′′(w)⇒Av​(w)​=ϕ(u(w))=ϕ′(u(w))u′(w)=ϕ′′(u(w))(u′(w))2+ϕ′(u(w))u′′(w)=−ϕ′(u(w))u′(w)ϕ′′(u(w))(u′(w))2+ϕ′(u(w))u′′(w)​=Au​(w)−ϕ′(u(w))ϕ′′(u(w))u′(w)​​ (c)⇒(b)(c) \Rightarrow (b)(c)⇒(b) ϕ′′≤0\phi^{\prime\prime} \leq0ϕ′′≤0 and ϕ′&gt;0\phi^\prime &gt; 0ϕ′&gt;0 ⇒\Rightarrow⇒ ϕ′′(u(w))u′(w)ϕ′(u(w))≤0\frac{\phi^{\prime\prime}(u(w))u^\prime(w)} {\phi^{\prime}(u(w))} \leq 0ϕ′(u(w))ϕ′′(u(w))u′(w)​≤0. So Av(w)≥Au(w)A_v(w) \geq A_u(w)Av​(w)≥Au​(w) for all www. (b)⇒(c)(b) \Rightarrow (c)(b)⇒(c) Av(w)≥Au(w)A_v(w) \geq A_u(w)Av​(w)≥Au​(w) for all www means ϕ′′(u(w))u′(w)ϕ′(u(w))≤0\frac{\phi^{\prime\prime}(u(w))u^\prime(w)} {\phi^{\prime}(u(w))} \leq 0ϕ′(u(w))ϕ′′(u(w))u′(w)​≤0. uuu and vvv are utility function, so ϕ\phiϕ should be increasing function, i.e. ϕ′&gt;0\phi^\prime &gt; 0ϕ′&gt;0. So we have ϕ′′≤0\phi^{\prime\prime} \leq 0ϕ′′≤0 i.e. Function v is a concave transformation of function u. Problem 4 Same decisions v(x)=a+bu(x)v(x) = a + bu(x)v(x)=a+bu(x) for all xxx, for some pair of scalars aaa and bbb, where bbb &gt;0. v(x)&gt;v(y)⇔a+bu(x)&gt;a+bu(y)⇔u(x)&gt;u(y) \begin{aligned} &amp;v(x) &gt; v(y)\\ \Leftrightarrow&amp; a + bu(x) &gt; a+bu(y) \\ \Leftrightarrow&amp; u(x) &gt; u(y) \end{aligned}⇔⇔​v(x)&gt;v(y)a+bu(x)&gt;a+bu(y)u(x)&gt;u(y)​ This deduction also holds for equality. v(x)=v(y)⇔a+bu(x)=a+bu(y)⇔u(x)=u(y) \begin{aligned} &amp;v(x) = v(y)\\ \Leftrightarrow&amp; a + bu(x) = a+bu(y) \\ \Leftrightarrow&amp; u(x) = u(y) \end{aligned}⇔⇔​v(x)=v(y)a+bu(x)=a+bu(y)u(x)=u(y)​ So a decision-maker with utility function v()v()v() makes the same decisions as a decision maker with utility function u()u()u() Same certainty-equivalents e is certainty-equivalent of z~ for v()⇔v(w+e)=E[v(w+z~)]⇔a+bu(w+e)=E[a+bu(w+z~)]⇔a+bu(w+e)=a+bE[u(w+z~)]⇔u(w+e)=E[u(w+z~)]⇔e is certainty-equivalent of z~ for u()\begin{aligned} &amp;e \text{ is certainty-equivalent of $\tilde{z}$ for $v()$} \\ \Leftrightarrow &amp;v(w + e) = \mathbb{E}\left[ v(w+\tilde{z}) \right]\\ \Leftrightarrow &amp;a + bu(w+e) = \mathbb{E}\left[ a+bu(w+\tilde{z}) \right]\\ \Leftrightarrow &amp;a + bu(w+e) = a+b\mathbb{E}\left[ u(w+\tilde{z}) \right]\\ \Leftrightarrow &amp;u(w+e) = \mathbb{E}\left[ u(w+\tilde{z}) \right]\\ \Leftrightarrow &amp;e \text{ is certainty-equivalent of $\tilde{z}$ for $u()$} \\ \end{aligned} ⇔⇔⇔⇔⇔​e is certainty-equivalent of z~ for v()v(w+e)=E[v(w+z~)]a+bu(w+e)=E[a+bu(w+z~)]a+bu(w+e)=a+bE[u(w+z~)]u(w+e)=E[u(w+z~)]e is certainty-equivalent of z~ for u()​ So a decision-maker with utility function v()v()v() has the same certainty-equivalents as a decision maker with utility function u()u()u()]]></content>
  </entry>
  <entry>
    <title><![CDATA[Asset Allocation and Portfolio Management Lec2]]></title>
    <url>%2FLectures%2FAsset-Allocation-and-Portfolio-Management%2FAAPM2%2F</url>
    <content type="text"><![CDATA[(2.2): if the dom is not convex, then θu+(1−θ)\theta u+(1-\theta)θu+(1−θ) may not be in the dom. f∗ is convex (even if f is not). See Theorem 2.4. Only ask it to be convex in y. Applications of Theorem 2.5: expg(x) is convex if g is convex. Also 1/g(x) is convex if g is concave and positive. Direct use of the theorem 2.5 extended-value extension. Since we ask it to be R→RR\rightarrow RR→R. And it can’t be −∞-\infty−∞, since then it will lose minimum. The domain of a convex function is convex See (2.2), the definition.]]></content>
      <categories>
        <category>Lectures</category>
        <category>Asset Allocation and Portfolio Management</category>
      </categories>
      <tags>
        <tag>Lectures</tag>
        <tag>Asset Allocation</tag>
        <tag>Portfolio Management</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Interest Rate and Credit Models Lec2: Credit Spreads]]></title>
    <url>%2FLectures%2FInterest-Rate-and-Credit-Models%2FIIRC2%2F</url>
    <content type="text"><![CDATA[Credit risk Credit risk In this course we assume credit spread is positive]]></content>
      <categories>
        <category>Lectures</category>
        <category>Interest Rate and Credit Models</category>
      </categories>
      <tags>
        <tag>Lectures</tag>
        <tag>Interest Rate</tag>
        <tag>Credit Models</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Asset Allocation and Portfolio Management HW1]]></title>
    <url>%2FLectures%2FAsset-Allocation-and-Portfolio-Management%2FAAPMhw1%2F</url>
    <content type="text"><![CDATA[Problem 1 Sufficiency Necessity Problem 2 Problem 3 (a)⇒(b)(a)\Rightarrow (b)(a)⇒(b) (c)⇒(a)(c) \Rightarrow (a)(c)⇒(a) (b)(b)(b) and (c)(c)(c) are equivalent (c)⇒(b)(c) \Rightarrow (b)(c)⇒(b) (b)⇒(c)(b) \Rightarrow (c)(b)⇒(c) Problem 4 Same decisions Same certainty-equivalents Problem 1 Sufficiency If an agent is risk-averse, then E[u(ω+z~)]≤u(ω)∀ω,∀z~ with E[z~]=0⇒E[u(ω+z~)]≤u(ω+E[z~])⇒E[u(ω+z~)]≤u(E[ω+z~])Let X=ω+z~,⇒E[u(X)]≤u(E[X])⇒u() is concave.\begin{aligned} &amp;\mathbb{E}[u(\omega + \tilde{z})] \leq u(\omega) \quad \forall\omega,\forall\tilde{z} \text{ with } \mathbb{E}[\tilde{z}] = 0 \\ \Rightarrow &amp;\mathbb{E}\left[ u(\omega + \tilde{z}) \right] \leq u(\omega + \mathbb{E}[\tilde{z}]) \\ \Rightarrow &amp;\mathbb{E}\left[ u(\omega + \tilde{z}) \right] \leq u( \mathbb{E}[\omega +\tilde{z}]) \\ \text{Let $X = \omega +\tilde{z}$,} \\ \Rightarrow &amp;\mathbb{E}\left[ u(X) \right] \leq u( \mathbb{E}[X]) \\ \Rightarrow &amp;u() \text{ is concave.} \end{aligned} ⇒⇒Let X=ω+z~,⇒⇒​E[u(ω+z~)]≤u(ω)∀ω,∀z~ with E[z~]=0E[u(ω+z~)]≤u(ω+E[z~])E[u(ω+z~)]≤u(E[ω+z~])E[u(X)]≤u(E[X])u() is concave.​ Necessity If u()u()u() is concave, then E[u(X)]≤u(E[X])Let X=ω+z~, where E[z~]=0, ω is non-random⇒E[u(ω+z~)]≤u(E[ω+z~])⇒E[u(ω+z~)]≤u(ω+E[z~])⇒E[u(ω+z~)]≤u(ω)∀ω,∀z~ with E[z~]=0⇒This agent is risk-averse.\begin{aligned} &amp;\mathbb{E}\left[ u(X) \right] \leq u( \mathbb{E}[X]) \\ \text{Let $X = \omega +\tilde{z}$,} &amp; \text{ where $\mathbb{E}[\tilde{z}] = 0$, $\omega$ is non-random} \\ \Rightarrow &amp;\mathbb{E}\left[ u(\omega + \tilde{z}) \right] \leq u( \mathbb{E}[\omega +\tilde{z}]) \\ \Rightarrow &amp;\mathbb{E}\left[ u(\omega + \tilde{z}) \right] \leq u(\omega + \mathbb{E}[\tilde{z}]) \\ \Rightarrow &amp;\mathbb{E}[u(\omega + \tilde{z})] \leq u(\omega) \quad \forall\omega,\forall\tilde{z} \text{ with } \mathbb{E}[\tilde{z}] = 0 \\ \Rightarrow &amp;\text{This agent is risk-averse.} \end{aligned} Let X=ω+z~,⇒⇒⇒⇒​E[u(X)]≤u(E[X]) where E[z~]=0, ω is non-randomE[u(ω+z~)]≤u(E[ω+z~])E[u(ω+z~)]≤u(ω+E[z~])E[u(ω+z~)]≤u(ω)∀ω,∀z~ with E[z~]=0This agent is risk-averse.​ Problem 2 u(w)=−exp(−κw)/κ⇒u′(w)=exp(−κw)⇒u′′(w)=−κexp(−κw)\begin{aligned} &amp;u(w) = − exp(−κw)/κ \\ \Rightarrow &amp; u^\prime(w) = exp(−κw)\\ \Rightarrow &amp; u^{\prime\prime}(w) = -κexp(−κw)\\ \end{aligned} ⇒⇒​u(w)=−exp(−κw)/κu′(w)=exp(−κw)u′′(w)=−κexp(−κw)​ So (2.1)A(w)=−u′′(w)u′(w)=κA(w) = -\frac{u^{\prime\prime}(w)}{u^\prime(w)} = \kappa \tag{2.1} A(w)=−u′(w)u′′(w)​=κ(2.1) And we know E[u(w+z~)]=E[u(w~)]w~ is normally distributed with mean μ and variance Σ2⇒E[u(w~)]=−1κE[exp(−κw~)]⇒u(w~)=−1κexp(−κμ+κ2σ22)\begin{aligned} &amp;\mathbb{E}\left[ u(w+\tilde{z}) \right] =\mathbb{E}\left[ u(\tilde{w}) \right] \quad \text{$\tilde{w}$ is normally distributed with mean $\mu$ and variance $\Sigma^2$} \\ \Rightarrow &amp;\mathbb{E}\left[ u(\tilde{w}) \right] = -\frac{1}{\kappa}\mathbb{E}\left[ exp(−κ\tilde{w}) \right] \\ \Rightarrow &amp; u(\tilde{w})= -\frac{1}{\kappa}exp(−κ\mu + \frac{\kappa^2\sigma^2}{2})\\ \end{aligned} ⇒⇒​E[u(w+z~)]=E[u(w~)]w~ is normally distributed with mean μ and variance Σ2E[u(w~)]=−κ1​E[exp(−κw~)]u(w~)=−κ1​exp(−κμ+2κ2σ2​)​ So (2.2)u(w~)=−1κexp(−κ(μ−κσ22))u(\tilde{w})= -\frac{1}{\kappa}exp(−κ(\mu - \frac{\kappa\sigma^2}{2})) \tag{2.2}u(w~)=−κ1​exp(−κ(μ−2κσ2​))(2.2) And we know (2.3)u(w−Π)=−exp(−κ(w−Π))/κu(w-\Pi) = − exp(−κ(w-\Pi))/κ \tag{2.3} u(w−Π)=−exp(−κ(w−Π))/κ(2.3) Combined (2.2)(2.2)(2.2) and (2.3)(2.3)(2.3) we can get (2.4)Π=κσ22\Pi = \frac{\kappa\sigma^2}{2} \tag{2.4} Π=2κσ2​(2.4) Plug (2.1)(2.1)(2.1) into (2.4)(2.4)(2.4) we can get Π=σ22A(w)\Pi = \frac{\sigma^2}{2}A(w) Π=2σ2​A(w) So the Arrow-Pratt approximation is exact. Problem 3 (a)⇒(b)(a)\Rightarrow (b)(a)⇒(b) It is equivalent to prove that not (b) implies not (a). not (b) is ∃w, s.t. Av(w)&lt;Au(w)\exists w, \text{ s.t. }A_v(w) &lt; A_u(w) ∃w, s.t. Av​(w)&lt;Au​(w) Let the point s.t.Av(w)&lt;Au(w) be x. i.e. Av(x)&lt;Au(x)\text{Let the point s.t.} A_v(w) &lt; A_u(w) \text{ be }x \text{. i.e. } A_v(x) &lt; A_u(x)Let the point s.t.Av​(w)&lt;Au​(w) be x. i.e. Av​(x)&lt;Au​(x). Let v(x)=t⇒x=v−1(t)\text{Let } v(x) = t \quad \Rightarrow x = v^{-1}(t)Let v(x)=t⇒x=v−1(t) First, We want to show that u(v−1(∙)) is strictly concave at tu(v^{-1}(\bullet)) \text{ is strictly concave at } tu(v−1(∙)) is strictly concave at t Av(x)&lt;Au(x)⇒Av(x)−Au(x)&lt;0⇒−v′′(x)v′(x)+u′′(x)u′(x)&lt;0⇒ddwlogu′(x)v′(x)&lt;0⇒logu′(x)v′(x) is decreasing⇒u′(x)v′(x) is decreasing⇒u′(v−1(t))v′(v−1(t))=ddtu(v−1(t)) is decreasingSince ddtu(v−1(t))=u′(v−1(t))[d(v−1(t))dt]=u′(v−1(t))[1v′(v−1(t))]=u′(v−1(t))v′(v−1(t))⇒d2dt2u(v−1(t))&lt;0⇒u(v−1(∙)) is strictly concave at t\begin{aligned} &amp;A_v(x) &lt; A_u(x) \\ \Rightarrow &amp;A_v(x) - A_u(x) &lt; 0\\ \Rightarrow &amp;-\frac{v^{\prime\prime}(x)}{v^\prime(x)} + \frac{u^{\prime\prime}(x)}{u^\prime(x)} &lt; 0 \\ \Rightarrow &amp;\frac{d}{dw}log\frac{u^\prime(x)}{v^\prime(x)} &lt; 0 \\ \Rightarrow &amp;log\frac{u^\prime(x)}{v^\prime(x)} \text{ is decreasing} \\ \Rightarrow &amp;\frac{u^\prime(x)}{v^\prime(x)} \text{ is decreasing} \\ \Rightarrow &amp;\frac{u^\prime(v^{-1}(t))}{v^\prime(v^{-1}(t))} = \frac{d}{dt}u(v^{-1}(t)) \text{ is decreasing} \\ &amp;\text{Since } \frac{d}{dt}u(v^{-1}(t)) =u^\prime(v^{-1}(t))[\frac{d(v^{-1}(t))}{dt}] =u^\prime(v^{-1}(t))[\frac{1}{v^\prime(v^{-1}(t))}] = \frac{u^\prime(v^{-1}(t))}{v^\prime(v^{-1}(t))} \\ \Rightarrow &amp;\frac{d^2}{dt^2}u(v^{-1}(t)) &lt; 0 \\ \Rightarrow &amp;u(v^{-1}(\bullet)) \text{ is strictly concave at } t \end{aligned} ⇒⇒⇒⇒⇒⇒⇒⇒​Av​(x)&lt;Au​(x)Av​(x)−Au​(x)&lt;0−v′(x)v′′(x)​+u′(x)u′′(x)​&lt;0dwd​logv′(x)u′(x)​&lt;0logv′(x)u′(x)​ is decreasingv′(x)u′(x)​ is decreasingv′(v−1(t))u′(v−1(t))​=dtd​u(v−1(t)) is decreasingSince dtd​u(v−1(t))=u′(v−1(t))[dtd(v−1(t))​]=u′(v−1(t))[v′(v−1(t))1​]=v′(v−1(t))u′(v−1(t))​dt2d2​u(v−1(t))&lt;0u(v−1(∙)) is strictly concave at t​ According to Jensen’s inequality (3.1)E[u(v−1(t))]&lt;u(v−1(E[t]))\mathbb{E}\left[ u(v^{-1}(t)) \right] &lt; u(v^{-1}(\mathbb{E}\left[ t \right]))\tag{3.1}E[u(v−1(t))]&lt;u(v−1(E[t]))(3.1) And we know E[u(w+z~)]=u(w−Πu)\mathbb{E}\left[ u(w+\tilde{z}) \right] = u(w - \Pi_u) E[u(w+z~)]=u(w−Πu​) E[v(w+z~)]=v(w−Πv)\mathbb{E}\left[ v(w+\tilde{z}) \right] = v(w - \Pi_v) E[v(w+z~)]=v(w−Πv​) So Πu=w−u−1(E[u(w+z~)])\Pi_u = w-u^{-1}(\mathbb{E}\left[ u(w+\tilde{z}) \right]) Πu​=w−u−1(E[u(w+z~)]) Πv=w−v−1(E[v(w+z~)])\Pi_v = w-v^{-1}(\mathbb{E}\left[ v(w+\tilde{z}) \right]) Πv​=w−v−1(E[v(w+z~)]) Πv−Πu=−v−1(E[v(w+z~)])+u−1(E[u(w+z~)])=−v−1(E[v(w+z~)])+u−1(E[u(w+z~)])\begin{aligned} \Pi_v - \Pi_u &amp;= -v^{-1}(\mathbb{E}\left[ v(w+\tilde{z}) \right]) + u^{-1}(\mathbb{E}\left[ u(w+\tilde{z}) \right]) \\ &amp;= -v^{-1}(\mathbb{E}\left[ v(w+\tilde{z}) \right]) + u^{-1}(\mathbb{E}\left[ u(w+\tilde{z}) \right]) \end{aligned} Πv​−Πu​​=−v−1(E[v(w+z~)])+u−1(E[u(w+z~)])=−v−1(E[v(w+z~)])+u−1(E[u(w+z~)])​ Let v(w+z~)=tv(w+\tilde{z}) = tv(w+z~)=t, i.e. the risk is z~=v−1(t)−w\tilde{z} = v^{-1}(t) - wz~=v−1(t)−w. And we know E[z~]=v−1(t)−w=0\mathbb{E}\left[ \tilde{z} \right] = v^{-1}(t) - w = 0E[z~]=v−1(t)−w=0, so w=v−1(t)w = v^{-1}(t) w=v−1(t) z~=0\tilde{z} = 0 z~=0 Then (3.2)Πv−Πu=−v−1(E[t])+u−1(E[u(v−1(t))])\Pi_v - \Pi_u = -v^{-1}(\mathbb{E}\left[ t \right]) + u^{-1}(\mathbb{E}\left[ u(v^{-1}(t)) \right]) \tag{3.2} Πv​−Πu​=−v−1(E[t])+u−1(E[u(v−1(t))])(3.2) Substituting (3.1) into (3.2), we obtain Πv−Πu&lt;−v−1(E[t])+u−1(u(v−1(E[t])))⇒Πv−Πu&lt;−v−1(E[t])+v−1(E[t])⇒Πv−Πu&lt;0⇒Πv&lt;Πu \begin{aligned} &amp;\Pi_v - \Pi_u &lt; -v^{-1}(\mathbb{E}\left[ t \right]) + u^{-1}(u(v^{-1}(\mathbb{E}\left[ t \right]))) \\ \Rightarrow &amp;\Pi_v - \Pi_u &lt; -v^{-1}(\mathbb{E}\left[ t \right]) + v^{-1}(\mathbb{E}\left[ t \right])\\ \Rightarrow &amp;\Pi_v - \Pi_u &lt; 0 \\ \Rightarrow &amp;\Pi_v &lt; \Pi_u \end{aligned}⇒⇒⇒​Πv​−Πu​&lt;−v−1(E[t])+u−1(u(v−1(E[t])))Πv​−Πu​&lt;−v−1(E[t])+v−1(E[t])Πv​−Πu​&lt;0Πv​&lt;Πu​​ So (3.3)Πv&lt;Πuwhen w=v−1(t),z~=0\Pi_v &lt; \Pi_u \quad \text{when } w = v^{-1}(t), \tilde{z} = 0 \tag{3.3} Πv​&lt;Πu​when w=v−1(t),z~=0(3.3) (a) implies that Πv≥Πu\Pi_v \geq \Pi_uΠv​≥Πu​ for any risk. so (3.3) implies not (a) So we have proved that not(b)⇒not(a)\text{not}(b) \Rightarrow \text{not}(a) not(b)⇒not(a) which is equivalent to (a)⇒(b)(a)\Rightarrow (b) (a)⇒(b) (c)⇒(a)(c) \Rightarrow (a)(c)⇒(a) Given (c)(c)(c), we have v(w−Πv)=E[v(w+z~)]=E[ϕ(u(w+z~))]v(w-\Pi_v) = \mathbb{E}\left[ v(w+\tilde{z}) \right] = \mathbb{E}\left[ \phi(u(w+\tilde{z})) \right] v(w−Πv​)=E[v(w+z~)]=E[ϕ(u(w+z~))] ϕ is concave⇒E[ϕ(u(w+z~))]≤ϕ(E[u(w+z~)])=ϕ(u(w−Πu))=v(w−Πu)\begin{aligned} \phi \text{ is concave} \Rightarrow \mathbb{E}\left[ \phi(u(w+\tilde{z})) \right] &amp;\leq \phi(\mathbb{E}\left[ u(w+\tilde{z}) \right]) \\ &amp;=\phi(u(w-\Pi_u)) \\ &amp;=v(w-\Pi_u) \end{aligned} ϕ is concave⇒E[ϕ(u(w+z~))]​≤ϕ(E[u(w+z~)])=ϕ(u(w−Πu​))=v(w−Πu​)​ ⇒v(w−Πv)≤v(w−Πu)\Rightarrow v(w-\Pi_v) \leq v(w-\Pi_u) ⇒v(w−Πv​)≤v(w−Πu​) And vvv is utility function, so vvv is increasing, which implies Πv≥Πu\Pi_v \geq \Pi_uΠv​≥Πu​ for any risk. So agent vvv is more risk-averse than agent uuu. (b)(b)(b) and (c)(c)(c) are equivalent uuu is increasing, i.e. u′≥0u^\prime \geq 0u′≥0. v(w)=ϕ(u(w))⇒v′(w)=ϕ′(u(w))u′(w)⇒v′′(w)=ϕ′′(u(w))(u′(w))2+ϕ′(u(w))u′′(w)⇒Av(w)=−ϕ′′(u(w))(u′(w))2+ϕ′(u(w))u′′(w)ϕ′(u(w))u′(w)=Au(w)−ϕ′′(u(w))u′(w)ϕ′(u(w))\begin{aligned} v(w) &amp;= \phi(u(w)) \\ \Rightarrow v^{\prime}(w) &amp;= \phi^{\prime}(u(w))u^\prime(w) \\ \Rightarrow v^{\prime\prime}(w) &amp;= \phi^{\prime\prime}(u(w))(u^\prime(w))^2 +\phi^{\prime}(u(w))u^{\prime\prime}(w) \\ \Rightarrow A_v(w) &amp;= -\frac {\phi^{\prime\prime}(u(w))(u^\prime(w))^2 +\phi^{\prime}(u(w))u^{\prime\prime}(w)} {\phi^{\prime}(u(w))u^\prime(w)} \\ &amp;=A_u(w) - \frac{\phi^{\prime\prime}(u(w))u^\prime(w)} {\phi^{\prime}(u(w))} \end{aligned} v(w)⇒v′(w)⇒v′′(w)⇒Av​(w)​=ϕ(u(w))=ϕ′(u(w))u′(w)=ϕ′′(u(w))(u′(w))2+ϕ′(u(w))u′′(w)=−ϕ′(u(w))u′(w)ϕ′′(u(w))(u′(w))2+ϕ′(u(w))u′′(w)​=Au​(w)−ϕ′(u(w))ϕ′′(u(w))u′(w)​​ (c)⇒(b)(c) \Rightarrow (b)(c)⇒(b) ϕ′′≤0\phi^{\prime\prime} \leq0ϕ′′≤0 and ϕ′&gt;0\phi^\prime &gt; 0ϕ′&gt;0 ⇒\Rightarrow⇒ ϕ′′(u(w))u′(w)ϕ′(u(w))≤0\frac{\phi^{\prime\prime}(u(w))u^\prime(w)} {\phi^{\prime}(u(w))} \leq 0ϕ′(u(w))ϕ′′(u(w))u′(w)​≤0. So Av(w)≥Au(w)A_v(w) \geq A_u(w)Av​(w)≥Au​(w) for all www. (b)⇒(c)(b) \Rightarrow (c)(b)⇒(c) Av(w)≥Au(w)A_v(w) \geq A_u(w)Av​(w)≥Au​(w) for all www means ϕ′′(u(w))u′(w)ϕ′(u(w))≤0\frac{\phi^{\prime\prime}(u(w))u^\prime(w)} {\phi^{\prime}(u(w))} \leq 0ϕ′(u(w))ϕ′′(u(w))u′(w)​≤0. uuu and vvv are utility function, so ϕ\phiϕ should be increasing function, i.e. ϕ′&gt;0\phi^\prime &gt; 0ϕ′&gt;0. So we have ϕ′′≤0\phi^{\prime\prime} \leq 0ϕ′′≤0 i.e. Function v is a concave transformation of function u. Problem 4 Same decisions v(x)=a+bu(x)v(x) = a + bu(x)v(x)=a+bu(x) for all xxx, for some pair of scalars aaa and bbb, where bbb &gt;0. v(x)&gt;v(y)⇔a+bu(x)&gt;a+bu(y)⇔u(x)&gt;u(y) \begin{aligned} &amp;v(x) &gt; v(y)\\ \Leftrightarrow&amp; a + bu(x) &gt; a+bu(y) \\ \Leftrightarrow&amp; u(x) &gt; u(y) \end{aligned}⇔⇔​v(x)&gt;v(y)a+bu(x)&gt;a+bu(y)u(x)&gt;u(y)​ This deduction also holds for equality. v(x)=v(y)⇔a+bu(x)=a+bu(y)⇔u(x)=u(y) \begin{aligned} &amp;v(x) = v(y)\\ \Leftrightarrow&amp; a + bu(x) = a+bu(y) \\ \Leftrightarrow&amp; u(x) = u(y) \end{aligned}⇔⇔​v(x)=v(y)a+bu(x)=a+bu(y)u(x)=u(y)​ So a decision-maker with utility function v()v()v() makes the same decisions as a decision maker with utility function u()u()u() Same certainty-equivalents e is certainty-equivalent of z~ for v()⇔v(w+e)=E[v(w+z~)]⇔a+bu(w+e)=E[a+bu(w+z~)]⇔a+bu(w+e)=a+bE[u(w+z~)]⇔u(w+e)=E[u(w+z~)]⇔e is certainty-equivalent of z~ for u()\begin{aligned} &amp;e \text{ is certainty-equivalent of $\tilde{z}$ for $v()$} \\ \Leftrightarrow &amp;v(w + e) = \mathbb{E}\left[ v(w+\tilde{z}) \right]\\ \Leftrightarrow &amp;a + bu(w+e) = \mathbb{E}\left[ a+bu(w+\tilde{z}) \right]\\ \Leftrightarrow &amp;a + bu(w+e) = a+b\mathbb{E}\left[ u(w+\tilde{z}) \right]\\ \Leftrightarrow &amp;u(w+e) = \mathbb{E}\left[ u(w+\tilde{z}) \right]\\ \Leftrightarrow &amp;e \text{ is certainty-equivalent of $\tilde{z}$ for $u()$} \\ \end{aligned} ⇔⇔⇔⇔⇔​e is certainty-equivalent of z~ for v()v(w+e)=E[v(w+z~)]a+bu(w+e)=E[a+bu(w+z~)]a+bu(w+e)=a+bE[u(w+z~)]u(w+e)=E[u(w+z~)]e is certainty-equivalent of z~ for u()​ So a decision-maker with utility function v()v()v() has the same certainty-equivalents as a decision maker with utility function u()u()u()]]></content>
      <categories>
        <category>Lectures</category>
        <category>Asset Allocation and Portfolio Management</category>
      </categories>
      <tags>
        <tag>Lectures</tag>
        <tag>Asset Allocation</tag>
        <tag>Portfolio Management</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Market Microstructure Models Lec1]]></title>
    <url>%2FLectures%2FMarket-Microstructure-Models%2FMMM1%2F</url>
    <content type="text"><![CDATA[Overview of the course Philosophical overview Market structure Order types Two Types Some Variations Hidden orders Market types Auction types Trading venues Zero intelligence models Assumption Conclusion asymptotic book depth Dimensional analysis Spread Slope (density wrt. tick) Volatility Average quote size Characteristic share quantity Market impact Market impact in general Realism of Santa Fe model Implementation of the Santa Fe model R implementation of ZI simulation Overview of the course Market microstructure theory could be viewed as the theory underlying algorithmic trading. Philosophical overview completely random zero intelligence model completely rational strategic trader models reality is somewhere in-between Market structure Order types Two Types market orders limit orders Some Variations Fill or kill Immediate or cancel All or nothing Marketable limit buy order Hidden orders Hidden orders have lower priority than visible orders at the same price level. Often placed between visible bid and ask. Market types Quote-driven Order-driven Hybrid Auction types Batch auctions or call markets! continuous auction or continuous markets Trading venues organized exchanges crossing networks dark pools The BATS order book BZX: Limit order gets rebate, it will have bigger share size at the best bid and ask BYX: Market order gets rebate A large tick stock has a spread nearly all of the time the spread of small tick stock is typically greater than one tick. Zero intelligence models Assumption Limit orders can be placed at any integer price level ppp where −∞&lt;p&lt;∞-\infty &lt; p &lt; \infty−∞&lt;p&lt;∞. If worried about negative prices, think of these as being logarithms of the actual price. Limit sell orders may be placed at any level greater than the best bid b(t)b(t)b(t) at time ttt and limit buy orders at any level less than the best offer a(t)a(t)a(t). In particular, just as in real markets, limit orders may be placed inside the spread (if the current spread is greater than one tick). Market orders arrive randomly at rate μ\muμ. Limit orders (per price level) arrive at rate λ\lambdaλ. A proportion ν\nuν of existing limit orders is canceled. All market orders and limit orders are for one share. All the order flows are modeled as Poisson processes. Conclusion asymptotic book depth the asymptotic book depth far away from the best quote must be given by λ/ν\lambda/\nuλ/ν. d=λν.d=\frac{\lambda}{\nu}. d=νλ​. Dimensional analysis Parameter Dimensions μ\muμ shares/T λ\lambdaλ shares/(ticks T) ν\nuν 1/T Dimensions Parameter combinations shares μ\muμ / ν\nuν T 1 / ν\nuν ticks μ\muμ / λ\lambdaλ Spread s∼μ2&ThinSpace;λs \sim \frac{\mu}{2\,\lambda} s∼2λμ​ Slope (density wrt. tick) λ2μ&ThinSpace;ν.\frac{\lambda^2}{\mu\,\nu}. μνλ2​. Volatility ticksT \frac{ticks}{T} Tticks​ is like change the data to seconds level. and for the variance of any time span, we just need to times the time span. so the dimension is (ticksT)2×T(\frac{ticks}{T})^2 \times T(Tticks​)2×T. ticks2T⇒μ&ThinSpace;νλ\frac{ticks^2}{T} \Rightarrow \frac{\mu\,\sqrt{\nu}}{\lambda} Tticks2​⇒λμν​​ Average quote size Q∼s2&ThinSpace;λ2μ&ThinSpace;ν∼μ2λ2&ThinSpace;λ2μ&ThinSpace;ν=μνQ \sim s^2\,\frac{\lambda^2}{\mu\,\nu} \sim \frac{\mu^2}{\lambda^2}\,\frac{\lambda^2}{\mu\,\nu}=\frac{\mu}{\nu} Q∼s2μνλ2​∼λ2μ2​μνλ2​=νμ​ Characteristic share quantity Nc=μ2&ThinSpace;νN_c=\frac{\mu}{2\,\nu} Nc​=2νμ​ Market impact σ\sigmaσ is volatility, LLL is fraction of average volume. And n is a given number of shares. So the dimension of LLL is TTT L=nμL=\frac{n}{\mu} L=μn​ σ∼μ&ThinSpace;νλ\sigma \sim \frac{\mu\,\sqrt{\nu}}{\lambda} σ∼λμν​​ I(n)∼μνλnμ=1λμνnI(n) \sim \frac{\mu\sqrt{\nu}}{\lambda}\sqrt{\frac{n}{\mu}}=\frac{1}{\lambda}\sqrt{\mu\nu n} I(n)∼λμν​​μn​​=λ1​μνn​ Market impact in general I(n)∼μλ&ThinSpace;f(nNc)=μλ&ThinSpace;f(2&ThinSpace;ν&ThinSpace;nμ)I(n)\sim\frac{\mu}{\lambda}\,f\left(\frac{n}{N_c}\right)=\frac{\mu}{\lambda}\,f\left(\frac{2\,\nu\,n}{\mu}\right) I(n)∼λμ​f(Nc​n​)=λμ​f(μ2νn​) Realism of Santa Fe model In real markets, order depth falls off rapidly away from the best quote. We would therefore not expect the behavior of the Santa Fe model deep in the order book to accurately mimic a real market. However, close to the best quote, the Santa Fe model does appear to capture some salient aspects of real markets. Implementation of the Santa Fe model Only consider the orders in a moving band of width LLL around the current best quotes. Compute the best bid BtB_tBt​ and best offer AtA_tAt​. Compute the number nBn_{B}nB​ of shares on the bid side of the book from level At−1A_t-1At​−1 to level At−LA_t-LAt​−L.] Compute the number nAn_{A}nA​ of shares on the offered side of the book from level Bt+1B_t+1Bt​+1 to level Bt+LB_t+LBt​+L. Draw a new event according to the relative probabilities {PMB,PMS,PLB,PLS,PCS,PCB}∝{μ/2,μ/2,L&ThinSpace;α,L&ThinSpace;α,δ&ThinSpace;nA,δ&ThinSpace;nB} \newcommand{\PP}{\mathbb{P} } \left\{\PP_{MB}, \PP_{MS}, \PP_{LB}, \PP_{LS}, \PP_{CS}, \PP_{CB}\right\} \propto \left\{\mu/2, \mu/2, L\,\alpha, L\,\alpha, \delta\,{n_A}, \delta\,{n_B} \right\} {PMB​,PMS​,PLB​,PLS​,PCS​,PCB​}∝{μ/2,μ/2,Lα,Lα,δnA​,δnB​}. If the selected event is a limit order, draw the relative price level from {1,2,…,L}\left\{1,2,\ldots,L\right\}{1,2,…,L}. If the selected event is a cancellation, select randomly which order within the band to cancel. Update the order book and increment ttt. R implementation of ZI simulation skip]]></content>
      <categories>
        <category>Lectures</category>
        <category>Market Microstructure Models</category>
      </categories>
      <tags>
        <tag>Lectures</tag>
        <tag>Market Microstructure Models</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Big Data in Finance Lec1]]></title>
    <url>%2FLectures%2FBig-Data-in-Finance%2FBDF1%2F</url>
    <content type="text"><![CDATA[Basics of Machine Learning Model Based Instance Based Supervised Learning Unsupervised Learning Batch Learning Online Learning Least Square Bias-Variance Decomposition Penalization Methods Ridge Regression LASSO Regression Cross Validation Basics of Machine Learning y -&gt; outcome (position of the planet) ML GOAL: Predict y as a function of x gives a training set {(xi,yi)}\{(x_i,y_i)\}{(xi​,yi​)} 2 main ways: Model based Instance based Model Based I choose model y(x,θ)y(x,\theta)y(x,θ), θ\thetaθ is the parameters of the model. Estimate θ^\hat\thetaθ^, given a new point x* not previously observed, y(x∗,θ)=y∗y(x*,\theta) = y*y(x∗,θ)=y∗ e.g. Regression Instance Based establish a similarity metric when a new x∗x*x∗ is given, you compute the corresponding y∗y*y∗ by averaging yiy_iyi​ corresponding to xix_ixi​ “close” to x∗x*x∗ e.g. KNN Supervised Learning {(xi,yi)}\{(x_i,y_i)\}{(xi​,yi​)} is given, yiy_iyi​ have labels. regression KNN Decision trees SVM Unsupervised Learning {xi}\{x_i\}{xi​} is given, We want to find the structure of {xi}\{x_i\}{xi​}. K-means PCA Batch Learning Online Learning keep updating data Least Square y(x,β)=xTβx∈Rnyi≈xiTββ=argmin12∑i=1N∣yi−xiTβ∣2=argmin12∣∣y−xTβ∣∣2⇒∂∂βL(β)=XTXβ−XTy=0⇒β^=(XTX)−1XTyy(x,\beta) = x^T\beta \qquad x\in \mathbb{R}^n \\ y_i \approx x_i^T\beta \\ \beta = argmin \frac{1}{2}\sum_{i=1}^N|y_i - x_i^T\beta|^2 \\ = argmin \frac{1}{2}||y - x^T\beta||^2 \\ \Rightarrow \frac{\partial}{\partial\beta}L(\beta) = X^TX\beta - X^Ty = 0 \\ \Rightarrow \hat\beta = (X^TX)^{-1}X^Ty y(x,β)=xTβx∈Rnyi​≈xiT​ββ=argmin21​i=1∑N​∣yi​−xiT​β∣2=argmin21​∣∣y−xTβ∣∣2⇒∂β∂​L(β)=XTXβ−XTy=0⇒β^​=(XTX)−1XTy KNN : y(x)=1k∑xi∈Nk(x)yiy(x) = \frac{1}{k}\sum_{x_i\in N_k(x)} y_iy(x)=k1​∑xi​∈Nk​(x)​yi​ How KNN is related to expectation is replaced by empirical mean the auditioning is relaxed to k points you can show limK,N→∞1k∑xi∈Nk(x)yi=E[y∣X=x]limK,N→∞KN=0lim_{K,N\rightarrow \infty} \frac{1}{k}\sum_{x_i\in N_k(x)} y_i = \mathbb{E}[y|X=x] \\ lim_{K,N\rightarrow \infty} \frac{K}{N} = 0 limK,N→∞​k1​xi​∈Nk​(x)∑​yi​=E[y∣X=x]limK,N→∞​NK​=0 Y=f(X)+ϵY = f(X) + \epsilon \quadY=f(X)+ϵ Curse of Dimensionality Big data are data usually defined in very high dimension space. You can show that the median distance ddd from the origin to he closest data point is given by P(xi&gt;d,∀i)P(x_i&gt;d, \forall i) P(xi​&gt;d,∀i) this formula β^\hat\betaβ^​ is an unbiased estimator of E[XTX]−1E[YX]E[X^TX]^{-1}E[YX]E[XTX]−1E[YX] y=XTβ+ϵy = X^T\beta+\epsilony=XTβ+ϵ β^=(XTX)−1XT(Xβ+ϵ)\hat\beta = (X^TX)^{-1}X^T(X\beta+\epsilon)β^​=(XTX)−1XT(Xβ+ϵ) ET[β^]=βE_T[\hat\beta] = \betaET​[β^​]=β Bias-Variance Decomposition f(x)=E[Y∣X=x]f(x) = E[Y|X=x]f(x)=E[Y∣X=x] ⇒min⁡E[(Y−f(X)]\Rightarrow \min E[(Y-f(X)]⇒minE[(Y−f(X)] Let y(x)y(x)y(x) be my model forf(x)f(x)f(x) E[(y−f(x)+f(x)−y(x))2]=E[(y−f(x))2]+E[(f(x))−y(x))2]E[(y-f(x) + f(x) - y(x))^2] = E[(y-f(x))^2] + E[(f(x)) - y(x))^2]E[(y−f(x)+f(x)−y(x))2]=E[(y−f(x))2]+E[(f(x))−y(x))2] since the cross term is zero, use tower property of expectation to prove Penalization Methods Ridge Regression β^=argmin∣∣y−Xβ∣∣2+λ∣∣β∣∣2\hat\beta = argmin||y-X\beta||^2+\lambda||\beta||^2β^​=argmin∣∣y−Xβ∣∣2+λ∣∣β∣∣2 β=(XTX+λI)−1XTy\beta = (X^TX+\lambda I)^{-1}X^Tyβ=(XTX+λI)−1XTy LASSO Regression β^=argmin∣∣y−Xβ∣∣2+λ∑i∣βi∣\hat\beta = argmin||y-X\beta||^2+\lambda\sum_i|\beta_i|β^​=argmin∣∣y−Xβ∣∣2+λ∑i​∣βi​∣ β=(XTX+λI)−1XTy\beta = (X^TX+\lambda I)^{-1}X^Tyβ=(XTX+λI)−1XTy Cross Validation fix λ\lambdaλ divide the T (training set) into K groups of equal size ∀\forall∀ group j train the data on the remaining K-1 groups and compute the EjλE^\lambda_jEjλ​ (mean squared error of group jjj under λ\lambdaλ) CV(λ)=1K∑EjλCV(\lambda) = \frac{1}{K}\sum E^\lambda_jCV(λ)=K1​∑Ejλ​ Big λ\lambdaλ will have high variance. small λ\lambdaλ will have high bias.]]></content>
      <categories>
        <category>Lectures</category>
        <category>Big Data in Finance</category>
      </categories>
      <tags>
        <tag>Lectures</tag>
        <tag>Big Data</tag>
        <tag>Finance</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Big Data in Finance Intro]]></title>
    <url>%2FLectures%2FBig-Data-in-Finance%2FBDF0%2F</url>
    <content type="text"><![CDATA[Textbook Textbook Pattern Recognition and Machine Learning, C. M. Bishop. Springer, (The author’s website) Trevor J. Hastie and Robert John Tibshirani and Jerome H. Friedman, The Elements Of Statistical Learning : Data Mining, Inference, and Prediction, 2nd Ed., Springer Series in Statistics Wes McKinney, Python for Data Analysis, 2nd Ed., O’Reilly.]]></content>
      <categories>
        <category>Lectures</category>
        <category>Big Data in Finance</category>
      </categories>
      <tags>
        <tag>Lectures</tag>
        <tag>Big Data</tag>
        <tag>Finance</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Asset Allocation and Portfolio Management Lec1]]></title>
    <url>%2FLectures%2FAsset-Allocation-and-Portfolio-Management%2FAAPM1%2F</url>
    <content type="text"><![CDATA[Prices, returns, holdings, and portfolios Lotteries and Rewards Useful Link Prices, returns, holdings, and portfolios all of the techniques we will discuss are actually used in most of the largest investment banks, AM, HF. changes in portfolio holdings are called trades although it wasn’t emphasized in classical studies of portfolio theory, trading itself is a complex process with many decision variables tha need to be considered and potentially optimized. all trading is costly and some putative arbitrage opportunity doesn’t exist at all once costs are properly accounted for. I’ll wager that most quant-oriented hedge funds have only a vague idea of their capacity. Definition 1.1 Bid, Ask. trading equities, cost includes borrow fees if one is selling short, financing costs of leverage. taxes on transaction taxes on dividends commissions small order charges … costs also include things you can not know temp or permanent price impact. one implication of all these cost is that strategies with high turnover and/or requiring leverage must also have extremely accurate forecasts ptip_t^ipti​ is the price for the i-th asset rt+1=pt+1/ptr_{t+1} = p_{t+1} / p_trt+1​=pt+1​/pt​ is the return over the interval [t, t+1] VWAP = volume-weighted average price Definition 1.2 A stock split is an issue of new shares in a company to existing shareholders in proportion to their current holdings. A dividend is a sum of money paid by a company to its shareholders out of its profits or reserves. some measures such as revenues are typically specified as whole-com measure but earnings etc. are often reported as forecasts on a per-share basis those measure are related to split Definition 1.3 bold face notation without a superscript rt+1r_{t+1}rt+1​ denotes as the vector of return. Any structure inherent in the random process driving rt+1r_{t+1}rt+1​ potentially gives rise to analogous structure in the portfolio’s return. Definition 1.4 htih_t^ihti​ is holding at time ttt. hhh will always have units of US dollars. ht∈Rnh_t \in R^nht​∈Rn ht⋅rt+1h_t \cdot r_{t+1}ht​⋅rt+1​ is the P&amp;L Information about cov(rt+1)cov(r_{t+1})cov(rt+1​) gives information about hth_tht​. var(ht⋅rt+1)=ht′cov(rt+1)htvar(h_t \cdot r_{t+1}) = h_t&#x27; cov(r_{t+1}) h_t var(ht​⋅rt+1​)=ht′​cov(rt+1​)ht​ rt+1rfr^{rf}_{t+1}rt+1rf​ is risk-free rates. If the asset returns one is modeling are local currency returns, be careful to use different risk-free rate for diff cur Definition 1.5 Excess returns is rt+1−rt+1rfr_{t+1} - r^{rf}_{t+1} rt+1​−rt+1rf​ which is n×1n\times 1n×1 matrix normality is usually the assumption behind model. Definition 1.6 Sharpe ratio is S=E[r−rfvar(r−rf)]S = \mathbb{E} \left[ \frac{r-r_f}{\sqrt{var(r-r_f)}} \right] S=E[var(r−rf​)​r−rf​​] universal convention: whatever frequency, always use annualized returns and annualized volatility. Sharpe ratio is not the best way for long only fund. Definition 1.7 benchmark long only strategy usually use S&amp;P500 as benchmark Hence a manager’s skill is closely related to performance relative to the appropriate benchmark. For this reason, one often considers the information ratio (IR), which is the same formula as the Sharpe ratio, but with the risk-free rate being replaced by an appropriate benchmark. Lotteries and Rewards A lottery is a probability distribution over the reward space. If u(w)=1−exp(−κw)κu(w) = \frac{1-exp(-κw)}{κ} u(w)=κ1−exp(−κw)​ where κ&gt;0κ &gt; 0κ&gt;0 is some positive scalar, then supposing www is normal, E[u(w)]=1−exp(E[−κw]+V[−κw])κ=1−exp(−κE[w]+κ22V[w])κ=1−exp{−κ(E[w]−κ2V[w])}κ=u(E[w]−κ2V[w])\begin{aligned} \mathbb{E}[u(w)] &amp;= \frac{1-exp(\mathbb{E}[-κw] + \mathbb{V}[-κw])}{κ} \\ &amp;= \frac{1-exp(-κ\mathbb{E}[w] + \frac{κ^2}{2}\mathbb{V}[w])}{κ} \\ &amp;= \frac{1-exp\{-κ(\mathbb{E}[w] - \frac{κ}{2}\mathbb{V}[w])\}}{κ} \\ &amp;= u \left( \mathbb{E}[w]- \frac{κ}{2} \mathbb{V}[w] \right) \\ \end{aligned} E[u(w)]​=κ1−exp(E[−κw]+V[−κw])​=κ1−exp(−κE[w]+2κ2​V[w])​=κ1−exp{−κ(E[w]−2κ​V[w])}​=u(E[w]−2κ​V[w])​ This implies that maximizing E[u(w)]\mathbb{E}[u(w)]E[u(w)] is equivalent to maximizing E[wT]−κ2V[w]\mathbb{E}[wT]- \frac{κ}{2} \mathbb{V}[w]E[wT]−2κ​V[w] since uuu is monotone. It turns out this is true for many fat-tailed distributions as well. Utility Definition 1.8 An agent is risk-averse if, at any wealth level w, she dislikes every lottery with an expected payoﬀ of zero: ∀w,∀z~∀w,∀\tilde{z}∀w,∀z~ with E[z~]=0\mathbb{E}[\tilde{z}] = 0E[z~]=0, E[u(w+z~)]≤u(w).\mathbb{E}[u(w + \tilde{z})] ≤ u(w). E[u(w+z~)]≤u(w). Any lottery ˜ z with non-zero expected payoff can be decomposed into its expected payoff E[˜ z] and a zero-mean lottery. Proposition 1.1 An agent is risk-averse, ie. inequality E[u(w+z~)]≤u(w+E[z~])\mathbb{E}[u(w + \tilde{z})] ≤ u(w + \mathbb{E}[\tilde{z}]) E[u(w+z~)]≤u(w+E[z~]) holds for all www and z~\tilde{z}z~, if and only if u()u()u() is concave. Useful Link ECONOMIC AND FINANCIAL DECISIONS UNDER UNCERTAINTY]]></content>
      <categories>
        <category>Lectures</category>
        <category>Asset Allocation and Portfolio Management</category>
      </categories>
      <tags>
        <tag>Lectures</tag>
        <tag>Asset Allocation</tag>
        <tag>Portfolio Management</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Interest Rate and Credit Models Lec1: Rates and Curves]]></title>
    <url>%2FLectures%2FInterest-Rate-and-Credit-Models%2FIIRC1%2F</url>
    <content type="text"><![CDATA[LIBOR, OIS, and their derivatives Fixed income markets LIBOR FRAs (Forward Rate Agreements) Eurodollar futures Swaps OIS ( overnight indexed swap) LIBOR/OIS basis swaps SOFR Fed Fund futures Valuation of swaps Multicurve paradigm Zero Coupon Bond Parameter Replication of P(t,S,T)P(t,S,T)P(t,S,T): Forward Rate Building the OIS / LIBOR multicurve LIBOR, OIS, and their derivatives Fixed income markets Fixed income are the biggest financial market. Market participants have adopted the convention that a rally refers to falling interest rates, while a sell off refers to rising rates. principal v.s. notional principal: pricipal is the real money your pay. e.g. you pay 0 for a 100 swap There are a lot of conventions, do not discuss them, just follow them LIBOR ICE LIBOR “At what rate could you borrow funds, were you to do so by asking for and then accepting interbank offers in a reasonable market size just prior to 11 am?” FRAs (Forward Rate Agreements) FRAs are OTC transactions. In a FRA transaction, counterparty A agrees to pay counterparty B LIBOR settling t years from now applied to a specified notional amount (say, $100 mm). In exchange, counterparty B pays counterparty A a pre-agreed interest rate (say, 3:05%) applied to the same notional. Because of their granular structure, they allow one to hedge the exposure or express the view on rates move on specific days. e.g. an FOMC FRA is a FRA which fixes the day after a Federal Open Markets Committee meeting. a turn switch allows to hedge or express the view on the rate spikes idiosyncratic to the month-, quarter- or year-end. Eurodollar futures In many ways, Eurodollar futures are similar to FRAs, except that their terms, such as contract sizes and settlement dates are standardized. The Merc makes daily “mark to market” adjustments to the margin account in order to reﬂect the changes in values of each of the individual contracts. Unlike a FRA, the Eurodollar future quoted price is linear in the underlying rate. convention -&gt; why does it not adopt compound interest? -&gt; what does FRA use? At any time, 44 Eurodollar contracts are listed on the Merc. ED: eurodollar H: March 7: 2017 white, red, green name stand for different pack Swaps spot starting swap forward starting swaps what’s the difference between swaps and FRAs FRAs is single period swap OIS ( overnight indexed swap) OIS is better than LIBOR, because it’s based on sth. OIS is based on the overnight deposit. LIBOR/OIS basis swaps why it’s downward sloping It’s the fact, I don’t know SOFR SOFR is based on the volume weighted average of the Treasury repo rate, the rate on overnight loans collateralized by US Government Treasuries. The volume is very big so it’s hard to manipulate. (~ 1 trillion) Fed Fund futures SOFR is based on the volume weighted average of the Treasury repo rate, the rate on overnight loans collateralized by US Government Treasuries. Valuation of swaps Multicurve paradigm why don’t we use LIBOR also as the index rate Because we have a huge amount of LIBOR futures in the market Zero Coupon Bond Parameter valuation date Settlement date Maturity date Replication of P(t,S,T)P(t,S,T)P(t,S,T): Buy 1 P(t,t,T)P(t,t,T)P(t,t,T) Sell P(t,t,S)P(t,t,S)P(t,t,S), shares: xxx, xP(t,t,S)=P(t,t,T)xP(t,t,S) = P(t,t,T)xP(t,t,S)=P(t,t,T), so x=P(t,t,T)/P(t,t,S)x= P(t,t,T)/P(t,t,S)x=P(t,t,T)/P(t,t,S) The value of this forward contract should be zero. After the above two steps, the cash flow is: Time Cash Flow t 0 S -x T 1 ⇒P(t,t,T)=x=P(t,t,T)P(t,t,S)\Rightarrow P(t,t,T) = x= \frac{P(t,t,T)}{P(t,t,S)} ⇒P(t,t,T)=x=P(t,t,S)P(t,t,T)​ Forward Rate P(t,S,T)=exp⁡(−∫STf(t,s)ds)P(t,S,T) = \exp\left(-\int_S^Tf(t,s)ds\right) P(t,S,T)=exp(−∫ST​f(t,s)ds) The PV of a swap is the difference between the PVs of the ﬁxed and ﬂoating legs (in this order!): The value of swap rate is independent of the valuation date. DVO1 = dollar value of 1. Receive swap, long swap, means you receive fix. You can trade swap only if you can post a margin. the value of the swap rate is independent of the valuation date (even though the PV’s of the individual legs of the swap are clearly not). Building the OIS / LIBOR multicurve Only use 3 month LIBOR Bootstrapping is useless]]></content>
      <categories>
        <category>Lectures</category>
        <category>Interest Rate and Credit Models</category>
      </categories>
      <tags>
        <tag>Lectures</tag>
        <tag>Interest Rate</tag>
        <tag>Credit Models</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Interest Rate and Credit Models Intro]]></title>
    <url>%2FLectures%2FInterest-Rate-and-Credit-Models%2FIIRC0%2F</url>
    <content type="text"><![CDATA[Useful Links Useful Links Lecture Notes from Andrew’s website]]></content>
      <categories>
        <category>Lectures</category>
        <category>Interest Rate and Credit Models</category>
      </categories>
      <tags>
        <tag>Lectures</tag>
        <tag>Interest Rate</tag>
        <tag>Credit Models</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Configure Hexo]]></title>
    <url>%2FHexo%2Fconfigure-hexo%2F</url>
    <content type="text"><![CDATA[There are some useful tips to configure hexo, especially for nexT theme. Add Your Own Website Method 1 Putting those files in ./public But $ hexo clean will delete them Method 2 Adding them to ./themes/themes-name/source And $ hexo g can generate them And you can add the url of this file into the config file of the theme to make it to be displayed. 12menu: home: / || home Add Canvas-nest ref Installation Step 1: Go to NexT dir Change dir to NexT directory. There must be layout, source, languages and other directories: 123$ cd themes/next$ lsbower.json _config.yml docs gulpfile.coffee languages layout LICENSE.md package.json README.md scripts source test Step 2: Get module Install module to source/lib directory: 1$ git clone https://github.com/theme-next/theme-next-canvas-nest source/lib/canvas-nest Step 3: Set it up Enable module in NexT _config.yml file: 1234567canvas_nest: enable: true onmobile: true # display on mobile or not color: '0,0,255' # RGB values, use ',' to separate opacity: 0.5 # the opacity of line: 0~1 zIndex: -1 # z-index property of the background count: 99 # the number of lines And, if you wants to use the CDN, then need to set: 1234vendors: ... canvas_nest: //cdn.jsdelivr.net/gh/theme-next/theme-next-canvas-nest@1.0.0/canvas-nest.min.js canvas_nest_nomobile: //cdn.jsdelivr.net/gh/theme-next/theme-next-canvas-nest@1.0.0/canvas-nest-nomobile.min.js Update 12$ cd themes/next/source/lib/canvas-nest$ git pull Hide Powered by Hexo ref Open themes/next/layout/_partials/footer.swig, and use &lt;!-- --&gt; to hide the relative codes. Enable Math Environment hexo-math hexo-math is no longer maintained, and it doesn’t work at all. guide from hexo-theme-next hexo-theme-next provides a math environment installment guide here. hexo-renderer-pandoc hexo-renderer-pandoc can’t generate files with the following error message: 12345678910111213141516171819202122232425262728293031323334353637383940$ hexo clean &amp;&amp; hexo g &amp;&amp; hexo sINFO Deleted database.INFO Deleted public folder.INFO Start processingFATAL Something&apos;s wrong. Maybe you can find the solution here: http://hexo.io/docs/troubleshooting.htmlError: write EPIPE at afterWriteDispatched (internal/stream_base_commons.js:78:25) at writeGeneric (internal/stream_base_commons.js:73:3) at Socket._writeGeneric (net.js:717:5) at Socket._write (net.js:729:8) at doWrite (_stream_writable.js:410:12) at writeOrBuffer (_stream_writable.js:394:5) at Socket.Writable.write (_stream_writable.js:294:11) at Hexo.pandocRenderer (C:\Users\pengc\OneDrive\pengchaoandy.github.io\blog\node_modules\hexo-renderer-pandoc\index.js:75:15) at Hexo.tryCatcher (C:\Users\pengc\OneDrive\pengchaoandy.github.io\blog\node_modules\bluebird\js\release\util.js:16:23) at Hexo.ret (eval at makeNodePromisifiedEval (C:\Users\pengc\AppData\Roaming\npm\node_modules\hexo-cli\node_modules\bluebird\js\release\promisify.js:184:12), &lt;anonymous&gt;:13:39) at Promise.then.text (C:\Users\pengc\OneDrive\pengchaoandy.github.io\blog\node_modules\hexo\lib\hexo\render.js:61:21) at tryCatcher (C:\Users\pengc\OneDrive\pengchaoandy.github.io\blog\node_modules\bluebird\js\release\util.js:16:23) at Promise._settlePromiseFromHandler (C:\Users\pengc\OneDrive\pengchaoandy.github.io\blog\node_modules\bluebird\js\release\promise.js:512:31) at Promise._settlePromise (C:\Users\pengc\OneDrive\pengchaoandy.github.io\blog\node_modules\bluebird\js\release\promise.js:569:18) at Promise._settlePromiseCtx (C:\Users\pengc\OneDrive\pengchaoandy.github.io\blog\node_modules\bluebird\js\release\promise.js:606:10) at _drainQueueStep (C:\Users\pengc\OneDrive\pengchaoandy.github.io\blog\node_modules\bluebird\js\release\async.js:142:12) at _drainQueue (C:\Users\pengc\OneDrive\pengchaoandy.github.io\blog\node_modules\bluebird\js\release\async.js:131:9) at Async._drainQueues (C:\Users\pengc\OneDrive\pengchaoandy.github.io\blog\node_modules\bluebird\js\release\async.js:147:5) at Immediate.Async.drainQueues [as _onImmediate] (C:\Users\pengc\OneDrive\pengchaoandy.github.io\blog\node_modules\bluebird\js\release\async.js:17:14) at runCallback (timers.js:705:18) at tryOnImmediate (timers.js:676:5) at processImmediate (timers.js:658:5)events.js:167 throw er; // Unhandled &apos;error&apos; event ^Error: spawn pandoc ENOENT at Process.ChildProcess._handle.onexit (internal/child_process.js:232:19) at onErrorNT (internal/child_process.js:407:16) at process._tickCallback (internal/process/next_tick.js:63:19)Emitted &apos;error&apos; event at: at Process.ChildProcess._handle.onexit (internal/child_process.js:238:12) at onErrorNT (internal/child_process.js:407:16) at process._tickCallback (internal/process/next_tick.js:63:19) hexo-renderer-kramed hexo-renderer-kramed can generate file but it has some bugs for inline formula. 123$p_t^i$ is the price for the i-th asset $r_&#123;t+1&#125; = p_&#123;t+1&#125; / p_t$ is the return over the interval [t, t+1] VWAP = volume-weighted average price The above code can’t be converted to formula, and shown as plain text. hexo-renderer-markdown-it It can’t show right formula by following those instructions in the website. And I don’t know how to fix it. Some issues for example: the code of the formula shows following the formula hexo-renderer-markdown-it-plus This one can work with some extra work. It can’t show right formula by following those instructions in the website too at the beginning. And it sometimes has the same issue as hexo-renderer-markdown-it So I try to follow the instruction here. Install 12npm un hexo-renderer-marked --savenpm i hexo-renderer-markdown-it-plus --save Katex plugin is enabled by default. However, this renderer alone does not work out of the box for mathematical formulas to display correctly on your website. Therefore, you do not need to do anything if you do not want to use Katex. Otherwise, if you want to use katex, you must add this css style to your website: https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.9.0/katex.min.css But it can’t show \frac correctly, with the mid horizontal line missed And I found the latest version in github. 1234# modify the url from hexo-renderer-markdown-it-plus# cdn: https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.10.0/katex.min.css# modify the url from the default config file of next theme, works everywhere even in Chinacdn: //cdn.jsdelivr.net/npm/katex@0.10.0/dist/katex.min.css The above two url works works perfectly and you should set them in the theme config file. But the following url comes from hexo-theme-next doesn’t work 12# If you want to try the latest version of Katex, use one below instead# cdn: //cdn.jsdelivr.net/katex/latest/katex.min.css Dynamically preview the generated website 1$ npm install hexo-browsersync --save The website will automatically refresh when you save your modified file. Uniform Image Link Problem Description If you want to link a picture with an asset folder, you need to use the image_name directly, but this link can not work in editor, which need the link to be asset/image_name. solution github link 1npm install hexo-asset-image --save Also make sure 1post_asset_folder: true Then the asset/image_name can work properly in hexo. Add Categories to Sidebar ref add 12345&lt;div class="category-all-page"&gt; &lt;div class="category-all"&gt; &#123;&#123; list_categories(&#123;depth: 1&#125;) &#125;&#125; &lt;/div&gt;&lt;/div&gt; to 1themes\next\layout\_custom More Hexo API: https://hexo.io/zh-cn/docs/helpers.html#list-categories Click Avatar to Go Back to Homepage File Position: ~/blog/themes/next/layout/_macro/sidebar.swig Edit this file: 12345+ &lt;a href="/"&gt; &lt;img class="site-author-image" itemprop="image" src="&#123;&#123; url_for( theme.avatar | default(theme.images + '/avatar.gif') ) &#125;&#125;" alt="&#123;&#123; theme.author &#125;&#125;" /&gt;+ &lt;/a&gt; Markdown Learning Material http://saili.science/2016/10/17/markdown-user-guide/#more mathematics symbols http://www.access2science.com/latex/Binary.html LaTeX handwritten symbol recognition http://detexify.kirelabs.org/classify.html Reference https://uchuhimo.me/2017/04/11/genesis/#more bind your own website https://uchuhimo.me/2017/04/11/genesis/ local_search comments https://leaferx.online/2018/03/17/hexo-auto-open-vscode/ hexo new automatically calls vs code http://achillessatan.github.io/2016/01/28/2016012804/ google adsense https://reuixiy.github.io/technology/computer/computer-aided-art/2017/06/09/hexo-next-optimization.html TopX]]></content>
      <categories>
        <category>Hexo</category>
      </categories>
      <tags>
        <tag>Hexo</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Hello World]]></title>
    <url>%2FHexo%2Fhello-world%2F</url>
    <content type="text"><![CDATA[Welcome to Hexo! This is your very first post. Check documentation for more info. If you get any problems when using Hexo, you can find the answer in troubleshooting or you can ask me on GitHub. Quick Start Create a new post 1$ hexo new "My New Post" More info: Writing Run server 1$ hexo server More info: Server Generate static files 1$ hexo generate More info: Generating Deploy to remote sites 1$ hexo deploy More info: Deployment]]></content>
      <categories>
        <category>Hexo</category>
      </categories>
      <tags>
        <tag>Hexo</tag>
      </tags>
  </entry>
</search>
